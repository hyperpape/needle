# pattern           haystack           matches  start   end     flags
a                   a                   y       0       1
a                   A                   n
a                   A                   y       0       1       22
a                   b                   n
a                   ab                  y       0       1
a                   ba                  y       1       2
a                   bca                 y       2       3
ab                  ab                  y       0       2
ab                  cab                 y       1       3
ab                  ba                  n
abc                 a                   n
abc                 b                   n
abc                 abc                 y       0       3
abc                 dabc                y       1       4
abc                 abcc                y       0       3
abc                 bac                 n
a*                  ''                  y       0       0
a*                  a                   y       0       1
a*                  aa                  y       0       2
a*                  baaaa               y       0       0
a*bc                bc                  y       0       2
a*bc                abc                 y       0       3
a*bc                aabc                y       0       4
a*bc                aaabc               y       0       5
a*a*bc              bc                  y       0       2
a*a*bc              abc                 y       0       3
a*a*bc              aabc                y       0       4
a*a*bc              aaabc               y       0       5
a+a*bc              abc                 y       0       3
a+a*bc              aabc                y       0       4
a+a*bc              aaabc               y       0       5
a+a+bc              abc                 n
a+a+bc              aabc                y       0       4
a+a+bc              aaabc               y       0       5
a*a+bc              abc                 y       0       3
a*a+bc              aabc                y       0       4
a*a+bc              aaabc               y       0       5
a+a                 a                   n
a+a                 aa                  y       0       2
a+a                 aaa                 y       0       3
a+a                 aaaaaaa             y       0       7
(ab)cd              abcd                y       0       4
(ab)+cd             abcd                y       0       4
(ab)+cd             ababcd              y       0       6
a.c                 abc                 y       0       3
a.c                 a.c                 y       0       3
a.*c                ac                  y       0       2
a.*c                axc                 y       0       3
a.*c                axycc               y       0       5
[^c]                c                   n
[^c]                cd                  y       1       2
[^c]                b                   y       0       1
[^c]                d                   y       0       1
((I)|(S{0,4}))      I                   y       0       1
((I)|(S{0,4}))      ''                  y       0       0
((I)|(S{0,4}))      B                   n
((I)|(S{0,4}))      S                   y       0       1
((I)|(S{0,4}))      SSS                 y       0       3
((I)|(S{0,4}))      SSSS                y       0       4
((I)|(S{0,4}))      SSSSS               y       0       4
# literal prefix but after seeing "the " there should be an offset
# important for testing seek + offset
'the [Cc]rown'      'the Crown'             y       0       9
'the [Cc]rown'      'the Crowd the Crown'   y       10      19
'the [Cc]rown'      'the Crowds are'        n
(AB){1,2}           ABABAB              y       0       4
AAB                 AAAB                y       1       4
AAB                 ABAAB               y       2       5
[a-q][^u-z]{3}x     aaax                n
[a-q][^u-z]{3}x     aaaax               y       0       5
[a-q][^u-z]{3}x     AAAAx               y       0       5       22
[a-q][^u-z]{3}x     aaaaaax             y       2       7
[a-q][^u-z]{3}x     aaaux               n
[a-q][^u-z]{3}x     AAAUX               n                       22
a                   ''                  n
a{1,2}              a                   y       0       1
a{1,2}              aa                  y       0       2
a{1,2}              aaa                 y       0       2
\.                  .                   y       0       1
\.                  a                   n
\.                  ab.                 y       2       3
gcg*cg              gccg                y       0       4
gcg*cg              gcgcgcg             y       0       5
gcg*cg*             gccgg               y       0       5
gcg*cg*             gcgcggcg            y       0       6
gc(g|a)*cg          gccg                y       0       4
gc(g|a)*cg          gcgcg               y       0       5
gc(g|a)*cg          gcgcgcg             y       0       5
gc(g|a)*cg          gcggcgcg            y       0       6
(a*tgc*|t*acg*)*(cg)(a|t)*  atgcgag         y       0       6
(a*tgc*|t*acg*)*(cg)(a|t)*  aacgatgccgaa    y       1       12
(a*tgc*|t*acg*)*(cg)(a|t)*  atgcgag         y       0       6
(t*acg*)*(cg)       acgggactcgcc            y       1       3

# infix/suffix tests
[a-z]*ing                               bringing            y       0       8
[a-z]{0,8}ing                           bringing            y       0       8
[a-z]*ing[a-z]*                         bringing            y       0       8
[a-z]{0,8}ing[a-z]*                     bringing            y       0       8

Holmes.{0,4}Watson|Watson.{0,4}Holmes   'Holmes to Watson'    y       0       16
[a-z]{0,8}ly\s[a-z]{1,8}                'actually valid'      y       0       14

http://.+\.com      http://www.google.com       y   0   21
http://.+\.com      http://www.google.co.uk     n

# leftmost first semantics
samwise|sam         samwise                 y       0       7           800000
sam|samwise         samwise                 y       0       3           800000

(sam|samwise)(sam)  samsam                  y       0       6           800000
(sam|samwise)(sam)  samsamwise              y       0       6           800000
(sam|samwise)(sam)  samwisesam              y       0       10          800000
(sam|samwise)(sam)  samwisesamwise          y       0       10          800000

(sam|samwise)(sam|samwise)  samsam          y       0       6           800000
(sam|samwise)(sam|samwise)  samsamwise      y       0       6           800000
(sam|samwise)(sam|samwise)  samwisesam      y       0       10          800000
(sam|samwise)(sam|samwise)  samwisesamwise  y       0       10          800000

# greedy quantifiers
(a|ab|bc)+def       abcdef                  y       0       6
(a|ab|bc)+def       abcdef                  y       0       6
(ab|a|bc)+def       abcdef                  y       0       6
(a|ab|bc)+c         abcc                    y       0       4           800000
(a|ab|bc)+          abc                     y       0       3           800000
(a|ab)+(a|ab)+      abab                    y       0       4
(a|ab)+(a|ab)+      abab                    y       0       3           800000
(ab|a|bc)+          abc                     y       0       3
(ab|a|bc)+          abc                     y       0       2           800000

# considered special optimizations that touch this case
\$\{[^}]*}             ${abcdef}        y       0       9
\$\{[^}]*}             $${abcdef}       y       1       10
\$\{[^}]*}             a${abcdef}       y       1       10

# odd syntax
[[a-c]]     a                           y       0       1
[[a-c]]     [                           n
[[a-c]]     -                           n
[-]         -                           y       0       1
[]]         ]                           y       0       1
[]]         [                           n

# unicode haystacks
a.c                 aεc                 y       0       3
[^c]                ε                   y       0       1
